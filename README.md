# Should I use a Client side connection pooler?
Don't matter.
Practically, with or without pool it don't matter. The majority of the latency comes from the query itself - DB execution & rows parsing or whatever.

It helps long living processes like API servers keep open connections with the DB.

Env: docker mysql, localhost, same Next prod (built, not dev) api endpoint. Only diff is client pool on/off. Full select of a table with 2 columns, id and text with ~2k records (emart > promenliviprevodi). 

Next.js API routes: 
With Pool
`npx autocannon -c 100 -d 50 http://localhost:3000/api/bench`

┌─────────┬────────┬────────┬────────┬─────────┬───────────┬───────────┬─────────┐
│ Stat    │ 2.5%   │ 50%    │ 97.5%  │ 99%     │ Avg       │ Stdev     │ Max     │
├─────────┼────────┼────────┼────────┼─────────┼───────────┼───────────┼─────────┤
│ Latency │ 356 ms │ 418 ms │ 881 ms │ 1181 ms │ 469.85 ms │ 149.33 ms │ 1521 ms │
└─────────┴────────┴────────┴────────┴─────────┴───────────┴───────────┴─────────┘
┌───────────┬─────────┬─────────┬─────────┬─────────┬─────────┬─────────┬─────────┐
│ Stat      │ 1%      │ 2.5%    │ 50%     │ 97.5%   │ Avg     │ Stdev   │ Min     │
├───────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ Req/Sec   │ 57      │ 81      │ 230     │ 266     │ 212,56  │ 49,92   │ 57      │
├───────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ Bytes/Sec │ 16.3 kB │ 23.1 kB │ 65.7 kB │ 75.9 kB │ 60.6 kB │ 14.3 kB │ 16.3 kB │
└───────────┴─────────┴─────────┴─────────┴─────────┴─────────┴─────────┴─────────┘


┌─────────┬────────┬────────┬────────┬────────┬───────────┬──────────┬─────────┐
│ Stat    │ 2.5%   │ 50%    │ 97.5%  │ 99%    │ Avg       │ Stdev    │ Max     │
├─────────┼────────┼────────┼────────┼────────┼───────────┼──────────┼─────────┤
│ Latency │ 353 ms │ 410 ms │ 689 ms │ 840 ms │ 428.98 ms │ 81.05 ms │ 1003 ms │
└─────────┴────────┴────────┴────────┴────────┴───────────┴──────────┴─────────┘
┌───────────┬─────────┬─────────┬─────────┬───────┬─────────┬─────────┬─────────┐
│ Stat      │ 1%      │ 2.5%    │ 50%     │ 97.5% │ Avg     │ Stdev   │ Min     │
├───────────┼─────────┼─────────┼─────────┼───────┼─────────┼─────────┼─────────┤
│ Req/Sec   │ 111     │ 128     │ 239     │ 266   │ 232,32  │ 34,15   │ 111     │
├───────────┼─────────┼─────────┼─────────┼───────┼─────────┼─────────┼─────────┤
│ Bytes/Sec │ 31.6 kB │ 36.5 kB │ 68.2 kB │ 76 kB │ 66.3 kB │ 9.75 kB │ 31.6 kB │
└───────────┴─────────┴─────────┴─────────┴───────┴─────────┴─────────┴─────────┘


┌─────────┬────────┬────────┬────────┬────────┬───────────┬───────────┬────────┐
│ Stat    │ 2.5%   │ 50%    │ 97.5%  │ 99%    │ Avg       │ Stdev     │ Max    │
├─────────┼────────┼────────┼────────┼────────┼───────────┼───────────┼────────┤
│ Latency │ 355 ms │ 420 ms │ 788 ms │ 865 ms │ 457.21 ms │ 107.95 ms │ 997 ms │
└─────────┴────────┴────────┴────────┴────────┴───────────┴───────────┴────────┘
┌───────────┬─────────┬─────────┬───────┬─────────┬─────────┬─────────┬─────────┐
│ Stat      │ 1%      │ 2.5%    │ 50%   │ 97.5%   │ Avg     │ Stdev   │ Min     │
├───────────┼─────────┼─────────┼───────┼─────────┼─────────┼─────────┼─────────┤
│ Req/Sec   │ 117     │ 117     │ 231   │ 267     │ 218,24  │ 43,86   │ 117     │
├───────────┼─────────┼─────────┼───────┼─────────┼─────────┼─────────┼─────────┤
│ Bytes/Sec │ 33.3 kB │ 33.3 kB │ 66 kB │ 76.2 kB │ 62.3 kB │ 12.5 kB │ 33.3 kB │
└───────────┴─────────┴─────────┴───────┴─────────┴─────────┴─────────┴─────────┘

`npx autocannon -c 100 -d 200 http://localhost:3000/api/bench`

┌─────────┬────────┬────────┬────────┬────────┬───────────┬──────────┬─────────┐        
│ Stat    │ 2.5%   │ 50%    │ 97.5%  │ 99%    │ Avg       │ Stdev    │ Max     │        
├─────────┼────────┼────────┼────────┼────────┼───────────┼──────────┼─────────┤        
│ Latency │ 364 ms │ 436 ms │ 739 ms │ 894 ms │ 459.76 ms │ 96.28 ms │ 1224 ms │        
└─────────┴────────┴────────┴────────┴────────┴───────────┴──────────┴─────────┘        
┌───────────┬─────────┬─────────┬─────────┬─────────┬─────────┬─────────┬─────────┐     
│ Stat      │ 1%      │ 2.5%    │ 50%     │ 97.5%   │ Avg     │ Stdev   │ Min     │     
├───────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤     
│ Req/Sec   │ 110     │ 113     │ 224     │ 261     │ 217,61  │ 34,48   │ 81      │     
├───────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤     
│ Bytes/Sec │ 31.3 kB │ 32.2 kB │ 63.9 kB │ 74.5 kB │ 62.1 kB │ 9.85 kB │ 23.1 kB │     
└───────────┴─────────┴─────────┴─────────┴─────────┴─────────┴─────────┴─────────┘  

Without Pool
`npx autocannon -c 100 -d 200 http://localhost:3000/api/bench`


┌─────────┬────────┬────────┬────────┬────────┬───────────┬──────────┬────────┐
│ Stat    │ 2.5%   │ 50%    │ 97.5%  │ 99%    │ Avg       │ Stdev    │ Max    │
├─────────┼────────┼────────┼────────┼────────┼───────────┼──────────┼────────┤
│ Latency │ 351 ms │ 411 ms │ 593 ms │ 697 ms │ 425.78 ms │ 64.42 ms │ 951 ms │
└─────────┴────────┴────────┴────────┴────────┴───────────┴──────────┴────────┘
┌───────────┬─────────┬───────┬───────┬─────────┬────────┬─────────┬─────────┐
│ Stat      │ 1%      │ 2.5%  │ 50%   │ 97.5%   │ Avg    │ Stdev   │ Min     │
├───────────┼─────────┼───────┼───────┼─────────┼────────┼─────────┼─────────┤
│ Req/Sec   │ 131     │ 165   │ 238   │ 269     │ 234,81 │ 28,25   │ 117     │
├───────────┼─────────┼───────┼───────┼─────────┼────────┼─────────┼─────────┤
│ Bytes/Sec │ 37.3 kB │ 47 kB │ 68 kB │ 76.8 kB │ 67 kB  │ 8.07 kB │ 33.3 kB │
└───────────┴─────────┴───────┴───────┴─────────┴────────┴─────────┴─────────┘